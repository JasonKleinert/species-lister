(this["webpackJsonpspecies-lister"]=this["webpackJsonpspecies-lister"]||[]).push([[0],{102:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(21),r=c.n(i),o=(c(88),c(89),c(107)),s=c(81),l=c(45),u=c(75),j=c(37),d=c(41),h=c(6),b=d.a.Option;function x(e){return Object(h.jsx)("div",{className:"iconic-taxa-selector",children:Object(h.jsxs)(d.a,{placeholder:"Select an iconic taxa",allowClear:!0,style:{width:200},onChange:e.handleIconicTaxaChange,children:[Object(h.jsx)(b,{value:"Animalia",children:"Animalia"}),Object(h.jsx)(b,{value:"Amphibia",children:"Amphibia"}),Object(h.jsx)(b,{value:"Arachnida",children:"Arachnida"}),Object(h.jsx)(b,{value:"Aves",children:"Aves"}),Object(h.jsx)(b,{value:"Chromista",children:"Chromista"}),Object(h.jsx)(b,{value:"Fungi",children:"Fungi"}),Object(h.jsx)(b,{value:"Insecta",children:"Insecta"}),Object(h.jsx)(b,{value:"Mammalia",children:"Mammalia"}),Object(h.jsx)(b,{value:"Mollusca",children:"Mollusca"}),Object(h.jsx)(b,{value:"Reptilia",children:"Reptilia"}),Object(h.jsx)(b,{value:"Plantae",children:"Plantae"}),Object(h.jsx)(b,{value:"Protozoa",children:"Protozoa"})]})})}var p=c(106),O=d.a.Option;function g(e){return Object(h.jsxs)("div",{className:"location-input",children:[Object(h.jsxs)(d.a,{placeholder:"Select a location",size:"large",allowClear:!0,onChange:e.handleSelectLocation,children:[Object(h.jsx)(O,{value:"30.092146220963105, -97.41695255909492",children:"Earth Native"}),Object(h.jsx)(O,{value:"26.2290,-97.3473",children:"Laguna Atascosa"})]}),Object(h.jsx)("h3",{children:"OR"}),Object(h.jsx)(p.a,{type:"primary",size:"large",onClick:e.handleLocationButtonClick,children:"Use my current location"})]})}function v(e){return Object(h.jsxs)("div",{className:"lister-button",children:[Object(h.jsx)(p.a,{type:"primary",size:"large",onClick:e.handleListerButtonClick,children:"List Species"}),Object(h.jsx)(p.a,{type:"secondary",size:"large",onClick:e.handleClearListerButtonClick,children:"Clear List"})]})}var m=c(104),f=c(105);function C(e){return Object(h.jsxs)("div",{className:"species-list",children:[Object(h.jsx)(m.a,{orientation:"left",children:"".concat(e.speciesList.length," ").concat(e.iconicTaxa," Species")}),Object(h.jsx)(f.b,{dataSource:e.speciesList,renderItem:function(e){return Object(h.jsx)(f.b.Item,{children:e})}})]})}var L=c(61),y=c.n(L),k=c(77),S=function(){var e=Object(k.a)(y.a.mark((function e(t,c,n,a,i){var r,o,s,l,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),r="https://api.inaturalist.org/v1/observations?page=".concat(c,"&per_page=200&iconic_taxa=").concat(t,"&lat=").concat(n,"&lng=").concat(a,"&radius=100&quality_grade=research&order=desc&order_by=created_at"),e.next=4,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});case 4:if((o=e.sent).ok){e.next=8;break}throw s="An error has occured: ".concat(o.status),new Error(s);case 8:return e.next=10,o.json();case 10:if(l=e.sent,i.push(l.results),console.log(l.results[l.results.length-1].created_at),2,2!==c){e.next=18;break}return e.abrupt("return",i);case 18:return u=c+1,e.abrupt("return",S(t,u,n,a,i));case 20:case"end":return e.stop()}}),e)})));return function(t,c,n,a,i){return e.apply(this,arguments)}}();function w(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(l.a)(i,2),o=r[0],d=r[1],b=Object(n.useState)([]),p=Object(l.a)(b,2),O=p[0],m=p[1],f=Object(n.useState)(!1),L=Object(l.a)(f,2),y=L[0],k=L[1],w=function(e){var t=e.coords;d("".concat(t.latitude,", ").concat(t.longitude)),console.log("Your current position is:"),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))},A=function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))};return console.log("".concat(O.length," species observed")),console.log(O),Object(h.jsxs)("div",{className:"lister-content",children:[Object(h.jsx)(x,{handleIconicTaxaChange:function(e){a(e)}}),Object(h.jsx)(g,{handleLocationButtonClick:function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(w,A,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):window.alert("Geolocation is not supported by this browser.")},handleSelectLocation:function(e){d(e)}}),Object(h.jsx)(v,{handleListerButtonClick:function(e){console.log(o.split(",")[0]),k(!0),O&&m([]),S(c,1,o.split(",")[0],o.split(",")[1],[]).then((function(e){var t=function(e){var t=new Set;return e.forEach((function(e){e.forEach((function(e){e.taxon.preferred_common_name&&t.add(e.taxon.preferred_common_name)}))})),Object(s.a)(t).sort()}(e);m(t),k(!1)}))},handleClearListerButtonClick:function(e){m([]),a(""),d("")}}),O.length?Object(h.jsx)(C,{speciesList:O,iconicTaxa:c}):y?Object(h.jsx)(u.a,{className:"spinner",size:"large"}):Object(h.jsx)(j.a,{})]})}var A=o.a.Header;o.a.Footer;function N(){return Object(h.jsxs)(o.a,{className:"lister-layout",children:[Object(h.jsx)(A,{className:"lister-header",children:Object(h.jsx)("h1",{children:"Species Lister"})}),Object(h.jsx)(w,{})]})}var _=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(N,{})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,108)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root")),B()},88:function(e,t,c){},89:function(e,t,c){}},[[102,1,2]]]);
//# sourceMappingURL=main.67e82c44.chunk.js.map