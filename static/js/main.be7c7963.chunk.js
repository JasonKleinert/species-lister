(this["webpackJsonpspecies-lister"]=this["webpackJsonpspecies-lister"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(21),s=n.n(r),i=(n(88),n(89),n(107)),l=n(81),o=n(56),u=n(75),j=n(37),d=n(40),h=n(6),b=d.a.Option;function x(e){return Object(h.jsx)("div",{className:"iconic-taxa-selector",children:Object(h.jsxs)(d.a,{placeholder:"Select an iconic taxa",allowClear:!0,style:{width:200},onChange:e.handleIconicTaxaChange,children:[Object(h.jsx)(b,{value:"Animalia",children:"Animalia"}),Object(h.jsx)(b,{value:"Amphibia",children:"Amphibia"}),Object(h.jsx)(b,{value:"Arachnida",children:"Arachnida"}),Object(h.jsx)(b,{value:"Aves",children:"Aves"}),Object(h.jsx)(b,{value:"Chromista",children:"Chromista"}),Object(h.jsx)(b,{value:"Fungi",children:"Fungi"}),Object(h.jsx)(b,{value:"Insecta",children:"Insecta"}),Object(h.jsx)(b,{value:"Mammalia",children:"Mammalia"}),Object(h.jsx)(b,{value:"Mollusca",children:"Mollusca"}),Object(h.jsx)(b,{value:"Reptilia",children:"Reptilia"}),Object(h.jsx)(b,{value:"Plantae",children:"Plantae"}),Object(h.jsx)(b,{value:"Protozoa",children:"Protozoa"})]})})}var O=n(106);function p(e){return Object(h.jsxs)("div",{className:"lister-button",children:[Object(h.jsx)(O.a,{type:"primary",size:"large",onClick:e.handleListerButtonClick,children:"List Species"}),Object(h.jsx)(O.a,{type:"secondary",size:"large",onClick:e.handleClearListerButtonClick,children:"Clear List"})]})}var v=n(104),f=n(105);function m(e){return Object(h.jsxs)("div",{className:"species-list",children:[Object(h.jsx)(v.a,{orientation:"left",children:e.iconicTaxa}),Object(h.jsx)(f.b,{dataSource:e.speciesList,renderItem:function(e){return Object(h.jsx)(f.b.Item,{children:e})}})]})}var g=n(61),C=n.n(g),k=n(77),y=function(){var e=Object(k.a)(C.a.mark((function e(t,n,a){var c,r,s,i,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),c="https://api.inaturalist.org/v1/observations?page=".concat(n,"&per_page=200&iconic_taxa=").concat(t,"&lat=26.2290&lng=-97.3473&radius=100&quality_grade=research&order=desc&order_by=created_at"),e.next=4,fetch(c,{method:"GET",headers:{"Content-Type":"application/json"}});case 4:if((r=e.sent).ok){e.next=8;break}throw s="An error has occured: ".concat(r.status),new Error(s);case 8:return e.next=10,r.json();case 10:if(i=e.sent,a.push(i.results),console.log(i.results[i.results.length-1].created_at),10,10!==n){e.next=18;break}return e.abrupt("return",a);case 18:return l=n+1,e.abrupt("return",y(t,l,a));case 20:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function L(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(o.a)(r,2),i=s[0],d=s[1],b=Object(a.useState)(!1),O=Object(o.a)(b,2),v=O[0],f=O[1];return console.log("".concat(i.length," species observed")),console.log(i),Object(h.jsxs)("div",{className:"lister-content",children:[Object(h.jsx)(x,{handleIconicTaxaChange:function(e){c(e)}}),Object(h.jsx)(p,{handleListerButtonClick:function(e){f(!0),i&&d([]),y(n,1,[]).then((function(e){var t=function(e){var t=new Set;return e.forEach((function(e){e.forEach((function(e){e.taxon.preferred_common_name&&t.add(e.taxon.preferred_common_name)}))})),Object(l.a)(t).sort()}(e);d(t),f(!1)}))},handleClearListerButtonClick:function(e){d([])}}),i.length?Object(h.jsx)(m,{speciesList:i,iconicTaxa:n}):v?Object(h.jsx)(u.a,{className:"spinner",size:"large"}):Object(h.jsx)(j.a,{})]})}var A=i.a.Header;i.a.Footer;function S(){return Object(h.jsxs)(i.a,{className:"lister-layout",children:[Object(h.jsx)(A,{className:"lister-header",children:Object(h.jsx)("h1",{children:"Species Lister"})}),Object(h.jsx)(L,{})]})}var _=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(S,{})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root")),w()},88:function(e,t,n){},89:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.be7c7963.chunk.js.map