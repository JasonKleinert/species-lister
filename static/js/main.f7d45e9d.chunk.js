(this["webpackJsonpspecies-lister"]=this["webpackJsonpspecies-lister"]||[]).push([[0],{102:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),l=c(21),i=c.n(l),s=(c(88),c(89),c(107)),r=c(81),o=c(29),u=c(75),j=c(39),d=c(42),h=c(6),b=d.a.Option;function O(e){return Object(h.jsx)("div",{className:"iconic-taxa-selector",children:Object(h.jsxs)(d.a,{placeholder:"Select iconic taxa",value:e.iconicTaxa,allowClear:!0,style:{width:200},onChange:e.handleIconicTaxaChange,children:[Object(h.jsx)(b,{value:"Animalia",children:"Animalia"}),Object(h.jsx)(b,{value:"Amphibia",children:"Amphibia"}),Object(h.jsx)(b,{value:"Arachnida",children:"Arachnida"}),Object(h.jsx)(b,{value:"Aves",children:"Aves"}),Object(h.jsx)(b,{value:"Chromista",children:"Chromista"}),Object(h.jsx)(b,{value:"Fungi",children:"Fungi"}),Object(h.jsx)(b,{value:"Insecta",children:"Insecta"}),Object(h.jsx)(b,{value:"Mammalia",children:"Mammalia"}),Object(h.jsx)(b,{value:"Mollusca",children:"Mollusca"}),Object(h.jsx)(b,{value:"Reptilia",children:"Reptilia"}),Object(h.jsx)(b,{value:"Plantae",children:"Plantae"}),Object(h.jsx)(b,{value:"Protozoa",children:"Protozoa"})]})})}var x=c(106),v=d.a.Option;function p(e){return Object(h.jsxs)("div",{className:"location-controls",children:[Object(h.jsxs)(d.a,{placeholder:"Select location",value:e.locationName,allowClear:!0,style:{width:200},onChange:e.handleSelectLocation,children:[Object(h.jsx)(v,{value:"34.4377, -101.0599",children:"Caprock Canyons"}),Object(h.jsx)(v,{value:"30.0922, -97.4169",children:"Earth Native"}),Object(h.jsx)(v,{value:"26.2290,-97.3473",children:"Laguna Atascosa"}),Object(h.jsx)(v,{value:"31.6191, -102.8119",children:"Monahans Sandhills"})]}),Object(h.jsx)("h3",{children:"OR"}),Object(h.jsx)(x.a,{className:"location-button",type:"default",style:{width:200},onClick:e.handleLocationButtonClick,children:"Use my current location"})]})}var m=d.a.Option;function g(e){return Object(h.jsx)("div",{className:"search-radius-selector",children:Object(h.jsxs)(d.a,{placeholder:"Select search radius",value:e.radius,allowClear:!0,style:{width:200},onChange:e.handleSelectSearchRadius,children:[Object(h.jsx)(m,{value:5,children:"5 km"}),Object(h.jsx)(m,{value:10,children:"10 km"}),Object(h.jsx)(m,{value:25,children:"25 km"}),Object(h.jsx)(m,{value:50,children:"50 km"}),Object(h.jsx)(m,{value:100,children:"100 km"})]})})}var f=d.a.Option;function C(e){return Object(h.jsx)("div",{className:"numpages-selector",children:Object(h.jsxs)(d.a,{placeholder:"Select pages to search",value:e.numPages,allowClear:!0,style:{width:200},onChange:e.handleSelectNumPages,children:[Object(h.jsx)(f,{value:1,children:"1"}),Object(h.jsx)(f,{value:2,children:"2"}),Object(h.jsx)(f,{value:3,children:"3"}),Object(h.jsx)(f,{value:4,children:"4"}),Object(h.jsx)(f,{value:5,children:"5"}),Object(h.jsx)(f,{value:10,children:"10"})]})})}function S(e){return Object(h.jsxs)("div",{className:"lister-button",children:[Object(h.jsx)(x.a,{type:"primary",size:"large",onClick:e.handleListerButtonClick,children:"List Species"}),Object(h.jsx)(x.a,{type:"default",size:"large",onClick:e.handleClearListerButtonClick,children:"Start Over"})]})}var k=c(104),y=c(105);function w(e){return Object(h.jsxs)("div",{className:"species-list",children:[Object(h.jsx)(k.a,{orientation:"left",children:"".concat(e.speciesList.length," ").concat(e.iconicTaxa," Species")}),Object(h.jsx)(y.b,{dataSource:e.speciesList,renderItem:function(e){return Object(h.jsx)(y.b.Item,{children:e})}})]})}var L=c(61),N=c.n(L),A=c(77),P=function(){var e=Object(A.a)(N.a.mark((function e(t,c,a,n,l,i,s){var r,o,u,j,d;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),r="https://api.inaturalist.org/v1/observations?page=".concat(c,"&per_page=200&iconic_taxa=").concat(t,"&lat=").concat(n,"&lng=").concat(l,"&radius=").concat(i,"&quality_grade=research&order=desc&order_by=created_at"),console.log(r),e.next=5,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});case 5:if((o=e.sent).ok){e.next=9;break}throw u="An error has occured: ".concat(o.status),new Error(u);case 9:return e.next=11,o.json();case 11:if(j=e.sent,s.push(j.results),c!==a){e.next=17;break}return e.abrupt("return",s);case 17:return d=c+1,e.abrupt("return",P(t,d,a,n,l,i,s));case 19:case"end":return e.stop()}}),e)})));return function(t,c,a,n,l,i,s){return e.apply(this,arguments)}}();function T(){var e=Object(a.useState)(),t=Object(o.a)(e,2),c=t[0],n=t[1],l=Object(a.useState)(),i=Object(o.a)(l,2),s=i[0],d=i[1],b=Object(a.useState)(),x=Object(o.a)(b,2),v=x[0],m=x[1],f=Object(a.useState)(),k=Object(o.a)(f,2),y=k[0],L=k[1],N=Object(a.useState)(),A=Object(o.a)(N,2),T=A[0],_=A[1],B=Object(a.useState)([]),I=Object(o.a)(B,2),M=I[0],R=I[1],E=Object(a.useState)(!1),F=Object(o.a)(E,2),z=F[0],G=F[1],H=function(e){var t=e.coords;d("".concat(t.latitude,", ").concat(t.longitude)),m("My current location"),console.log("Your current position is:"),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))},J=function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))};return Object(h.jsxs)("div",{className:"lister-content",children:[Object(h.jsx)(O,{iconicTaxa:c,handleIconicTaxaChange:function(e){n(e)}}),Object(h.jsx)(p,{location:s,locationName:v,handleLocationButtonClick:function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(H,J,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):window.alert("Geolocation is not supported by this browser.")},handleSelectLocation:function(e){d(e),m(e)}}),Object(h.jsx)(g,{radius:y,handleSelectSearchRadius:function(e){L(e)}}),Object(h.jsx)(C,{numPages:T,handleSelectNumPages:function(e){_(e)}}),Object(h.jsx)(S,{handleListerButtonClick:function(e){console.log(s.split(",")[0]),G(!0),M&&R([]),P(c,1,T,s.split(",")[0],s.split(",")[1],y,[]).then((function(e){console.log(e);var t=function(e){var t=new Set;return e.forEach((function(e){e.forEach((function(e){e.taxon.preferred_common_name&&t.add(e.taxon.preferred_common_name)}))})),Object(r.a)(t).sort()}(e);R(t),G(!1)}))},handleClearListerButtonClick:function(e){R([]),n(null),d(null),m(null),L(null),_(null)}}),M.length?Object(h.jsx)(w,{speciesList:M,iconicTaxa:c}):z?Object(h.jsx)(u.a,{className:"spinner",size:"large",tip:"Gathering observations from iNaturalist..."}):Object(h.jsx)(j.a,{})]})}var _=s.a.Header;s.a.Footer;function B(){return Object(h.jsxs)(s.a,{className:"lister-layout",children:[Object(h.jsx)(_,{className:"lister-header",children:Object(h.jsx)("h1",{children:"Species Lister"})}),Object(h.jsx)(T,{})]})}var I=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(B,{})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,108)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,l=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),l(e),i(e)}))};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root")),M()},88:function(e,t,c){},89:function(e,t,c){}},[[102,1,2]]]);
//# sourceMappingURL=main.f7d45e9d.chunk.js.map